#include <stdio.h>
#include <ctype.h>
#include <string.h>
#define MAX 20

int main()
{
	char D[19][20] = {
	 {'#','|','|','|','|',' ','|','|',' ','|','|','|','|','|','|','|','|','|','|','|'},
	 {' ',' ',' ',' ',' ',' ','|','|',' ','|','|',' ',' ',' ',' ',' ',' ',' ',' ',' ',},
	 {'|','|','|','|','|',' ',' ',' ',' ','|','|','|',' ','|','|','|','|','|','|',' '},
	 {' ',' ',' ',' ',' ',' ','|','|',' ',' ',' ',' ',' ','|','|',' ',' ',' ',' ',' '},
	 {' ','|','|','|','|',' ','|','|','|','|','|','|','|','|','|',' ','|','|','|','|'},
	 {' ',' ',' ',' ',' ',' ',' ',' ',' ','|','|',' ','|','|','|',' ','|','|','|','|'},
	 {'|','|','|',' ','|','|','|','|',' ','|','|',' ','|','|','|',' ',' ',' ',' ',' '},
	 {'|','|','|',' ',' ',' ','|','|',' ',' ',' ',' ',' ',' ',' ',' ','|','|','|','|'},
	 {' ','@','|','|','|',' ','|','|',' ','|','|','|',' ','|','|','|','|','|','|','|'},
	 {' ','|','|','|','|',' ','|',' ',' ','|','|',' ',' ','|','|',' ','/','/','/','$'},
	 {' ',' ',' ',' ',' ',' ','|',' ','|','|','|','|',' ','|','|',' ','|','|','|','|'},
	 {'|','|','|','|','|',' ',' ',' ','|','|','|','|',' ','|','|',' ','|',' ',' ',' '},
	 {' ',' ',' ',' ',' ',' ','|','|','|',' ',' ',' ',' ',' ',' ',' ',' ',' ','|','|'},
	 {'|','|',' ','|','|',' ','|','|','|',' ','|','|',' ','|','|','|','|',' ','|','|'},
	 {'|','|',' ','|','|',' ','|','|','|',' ','|',' ',' ',' ','|','|','|',' ',' ',' '},
	 {' ',' ',' ','|','|','|','|',' ',' ',' ','|','|','|',' ','|','|','|',' ','|','|'},
	 {' ','|',' ','|',' ',' ',' ',' ','|',' ','|','|','_',' ',' ','|','|','|','|','|'},
	 {'@','|','|','|',' ','|','|',' ','|',' ',' ','|','@','|',' ',' ',' ',' ',' ',' '},
	 {'|','|','|','|',' ','|','|','|','|','|',' ','|',' ',' ',' ','|','|','|','|','|'},
		};
	int i,j,C=0,L=0;
	char M;
printf("Bem Vindo ao meu Labirinto em C!\n");
printf("Você é o # e seu objetivo é chegar ao $\n");
printf("Porém antes de você conseguir alcançar o $ há 3 Barreiras (///)para desbloqueá-las você terá que pressionar os 3 botões (@).\n");
printf("Boa Sorte!!!\n");

	while (D[9][19] == '$')
	{
		for (i=0;i<19;i++)
	{
    
    	if (i==0)
    	printf(" ____________________\n");
		printf ("|");
		for (j=0;j<20;j++)
		{
			printf ("%c",D[i][j]);
		}
    	printf ("|");
		printf("\n");
			if (i==18)
    	printf(" ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾");
	}
	if  (D[0][0]=='#')
		printf ("\nPara se movimentar digite a direcão a qual vc quer ir e aperte Enter\nVocê também pode digitar varias vezes o mesmo comando, por exemplo: bbbbbbb.\n");
	printf (" \n C = Cima\n D = Direita\n E = Esquerda\n B = Baixo\n\n");
	printf (" Seu Movimento: ");
	scanf(" %c",&M);
	printf("\n");
	M = toupper (M);
	switch (M)
	{
		case ('C'):
		if (L < 1)
		break;
		else 
		{
			if (strchr("|_=", D[L-1][C]) == NULL)
			{
				if (D[L-1][C] == '@')
		    {
		    	if (D[9][16]== '/')
		    	D[9][16]=' ';
		    	else
		    	{
		    		if (D[9][17] == '/')
		    		D[9][17] = ' ';
		    		else 
		    		D[9][18] = ' ';
 		   	}
		    }
			D[L][C] = ' ';
			D[L-1][C] = '#';
			L--;
			}
			else
			printf("=====================\n Movimento Inválido\n=====================\n\n");
		}
		break;
		case ('D'):
		if (C > 20)
		break;
		else 
		{
		if (strchr("|_=", D[L][C+1]) == NULL)
			{
				if (D[L][C+1] == '@')
		    {
		    	if (D[9][16]== '/')
		    	D[9][16]=' ';
		    	else
		    	{
		    		if (D[9][17] == '/')
		    		D[9][17] = ' ';
		    		else 
		    		D[9][18] = ' ';
 		   	}
		    }
			D[L][C] = ' ';
			D[L][C+1] = '#';
			C++;
			}
			else
			printf("=====================\n Movimento Inválido\n=====================\n\n");
		}
		break;
		case ('E'):
		if (C < 0)
		break;
		else
		{
		if (strchr("|_=", D[L][C-1]) == NULL)
			{
		    if (D[L][C-1] == '@')
		    {
		    	if (D[9][16]== '/')
		    	D[9][16]=' ';
		    	else
		    	{
		    		if (D[9][17] == '/')
		    		D[9][17] = ' ';
		    		else 
		    		D[9][18] = ' ';
 		   	}
		    }
			D[L][C] = ' ';
			D[L][C-1] = '#';
			C--;
			}
			else
			printf("=====================\n Movimento Inválido\n=====================\n\n");
		}
		break;
		case ('B'):
		if (L > 17) 
		{ 
		printf("=====================\n Movimento Inválido\n=====================\n\n");
		break;
		}
		else
		{
			if (strchr("|_=", D[L+1][C]) == NULL)
			{
				if (D[L+1][C] == '@')
		    {
		    	if (D[9][16]== '/')
		    	D[9][16]=' ';
		    	else
		    	{
		    		if (D[9][17] == '/')
		    		D[9][17] = ' ';
		    		else 
		    		D[9][18] = ' ';
 		   	}
		    }			
			D[L][C] = ' ';
			D[L+1][C] = '#';
			L++;
			}
			else
			printf("=====================\n Movimento Inválido\n=====================\n\n");
		}
		break;
	}
	}
	printf("==================\n Você Ganhou!!\n==================\n\n");
	for (i=0;i<19;i++)
	{
    	printf("|");
		for (j=0;j<20;j++)
		{
			printf ("%c",D[i][j]);
		}
    	printf ("|");
		printf("\n");
	}	
 return 0;
}